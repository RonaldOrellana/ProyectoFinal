{% extends 'base.html' %}
{% block content %}

<style>
/* üåà Fondo general */
body {
  background: #f3f7fa;
  font-family: 'Poppins', sans-serif;
}

/* üíô Encabezado */
.header-section {
  background: linear-gradient(135deg, #2196f3, #1976d2);
  color: white;
  border-radius: 25px;
  padding: 60px 20px;
  text-align: center;
  margin-bottom: 50px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

.header-section h1 {
  font-size: 2.8rem;
  font-weight: 700;
}

.header-section p {
  font-size: 1.2rem;
  opacity: 0.9;
}

/* ü©∫ Tarjetas de m√©dicos */
.card-doctor {
  background: white;
  border: none;
  border-radius: 20px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  height: 100%;
  transition: all 0.3s ease;
}

.card-doctor:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
}

/* üë®‚Äç‚öïÔ∏è Imagen del doctor */
.card-doctor img {
  width: 100%;
  height: 220px;
  object-fit: cover;
}

/* ü©µ Cuerpo de la tarjeta */
.card-body {
  padding: 1.5rem;
}

.doctor-name {
  font-size: 1.3rem;
  font-weight: 600;
  color: #0d47a1;
}

.specialty {
  color: #1565c0;
  font-weight: 500;
  font-size: 1rem;
}

/* üí¨ Botones */
.btn-modern {
  border-radius: 25px;
  font-weight: 600;
  transition: all 0.3s ease;
}

.btn-modern:hover {
  transform: scale(1.05);
}

/* üß† Etiquetas */
.badge-exp {
  background: #1976d2;
  color: white;
  font-size: 0.85rem;
  border-radius: 10px;
  padding: 4px 10px;
}

/* üß± Grid uniforme */
.card-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 25px;
}

/* ‚ú® Animaci√≥n */
.fade-in {
  animation: fadeIn 0.6s ease-in-out;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>

<!-- ü©∫ Encabezado -->
<section class="header-section fade-in">
  <h1>üë®‚Äç‚öïÔ∏è M√©dicos de la Cl√≠nica Moderna</h1>
  <p>Conoce a nuestro equipo m√©dico altamente calificado.</p>
</section>

<div class="container mb-5 fade-in">

  <!-- üîç Barra superior -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h4 class="fw-bold text-secondary mb-0">Equipo M√©dico</h4>
    <a href="{% url 'crear_medico' %}" class="btn btn-primary btn-modern shadow-sm px-4">
      <i class="bi bi-person-plus-fill me-2"></i> Nuevo M√©dico
    </a>
  </div>

  <!-- üßë‚Äç‚öïÔ∏è Tarjetas -->
  {% if medicos %}
  <div class="card-container">
    {% for medico in medicos %}
    <div class="card-doctor">
      {% if medico.foto %}
        <img src="{{ medico.foto.url }}" alt="{{ medico.nombre }}">
      {% else %}
        <img src="https://cdn-icons-png.flaticon.com/512/387/387561.png" alt="M√©dico gen√©rico">
      {% endif %}
      <div class="card-body">
        <h5 class="doctor-name mb-1">{{ medico.nombre }}</h5>
        <p class="specialty">{{ medico.especialidad }}</p>
        <p class="text-muted mb-2"><i class="bi bi-envelope"></i> {{ medico.email }}</p>
        <p class="text-muted mb-3"><i class="bi bi-telephone"></i> {{ medico.telefono }}</p>

        {% if medico.experiencia %}
        <span class="badge-exp">Experiencia: {{ medico.experiencia }} a√±os</span>
        {% endif %}
      </div>

      <div class="p-3 border-top d-flex justify-content-between">
        <a href="{% url 'eliminar_medico' medico.id %}" 
          onclick="return confirm('¬øEst√°s seguro de que deseas eliminar al Dr. {{ medico.nombre }} {{ medico.apellido }}?');"
          class="btn btn-outline-danger btn-modern btn-sm px-3">
          <i class="bi bi-trash"></i> Eliminar
        </a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="alert alert-info text-center shadow-sm">
    <i class="bi bi-info-circle"></i> No hay m√©dicos registrados a√∫n.
  </div>
  {% endif %}
</div>

{% endblock %}
